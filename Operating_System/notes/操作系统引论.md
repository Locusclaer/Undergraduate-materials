# 操作系统引论

> 操作系统是什么？

1. 他是一个软件
1. 他是一个管理员，帮助我们管理和使用计算机
1. 其他软件都依靠他来运行，使用各种资源时都要向他提出申请



## 1.1 操作系统的目标和作用

> os的位置：紧贴硬件之上，其他软件之下（支撑其他软件的运行）

**os是配置在硬件上的第一层软件，是对硬件系统的首次扩充**

### 1.1.1 操作系统的设计目标

> 设计OS时最重要的目标

1. 方便性
2. 有效性
3. 可扩充性
4. 开放性

### 1.1.2 操作系统的作用

1. OS作为用户与计算机硬件系统之间的接口
2. OS是计算机系统资源的管理者
   管理的对象：硬件、软件
   管理的内容：资源的当前状态（数量和使用情况）、资源的分配/回收和访问操作、相应管理策略（包括用户权限）
3. OS实现了对计算机资源的抽象

### 1.1.3 推动操作系统发展的主要动力

1. ==不堵啊提高计算机资源利用率的需要==
2. ==方便用户==
3. 器件的不断更新换代
4. 计算机体系结构的不断发展
5. 不断提出新的应用需求、

## 1.2 操作系统的发展过程

### 1.2.1 未配置操作系统的计算机系统——19446～50年代（电子管）

**计算机的工作特点**（人工操作方式）

1. 用户独占全机
2. CPU等待用户

**脱机输入/输出方式**

### 1.2.2 单道批处理系统——50年代末～60年代中期（晶体管）

**单道：**内存中始终只保持一个作业运行

**批处理：**成批处理作业

> 主要特征

1. 自动性
2. 顺序性
3. 单道性

> 主要问题

1. 单道性
   内存中仅有一道作业，每次程序在运行中发出I/O请求，CPU都处于等待状态，无法充分利用所有资源（比如CPU和内存），致使系统性能较差。
2. CPU和I/O设备忙闲不均
3. 内存浪费

### 1.2.3 多道批处理系统——60年代中～70年代中（集成电路）

> 主要特征

1. 多道性
   - 内存中同时存放多个作业，并发执行；
   - 宏观上并行运行；
   - 微观上串行运行：各作业交替使用CPU
2. 无序性
   - 先进入内存的作业未必先执行完成
3. 调度性
   - 作业要经历两次调度：作业调度（进入内存）、进程调度（由内存进入CPU进行计算）

> 主要优缺点

**优点：**

- 资源利用率高
- 系统吞吐量大

**缺点：**

- 平均周转时间长（周转时间：从作业进入系统开始，直至完成并推出系统为止所经历的时间）
- 无交互能力

**多道程序系统和多处理系统的区别：**前者指多个程序同时在内存中并发运行，后者指多个处理器

> 需要解决的问题

1. 处理机争用问题
2. 内存分配和保护问题
3. I/O设备分配问题
4. 文件的组织和管理问题
5. 作业管理问题
6. 用户与系统的接口问题

> 什么是操作系统？

操作系统是一组能够有效地组织和管理计算机硬件和软件的资源，合理地对各类作业进行调度，以及方便用户使用的程序的集合

### 1.2.4 分时系统

在一台主机上链接了多个配有显示器和键盘的终端并由此组成的系统，该系统允许多个用户同时通过自己的终端，以交互方式使用计算机，共享主机中的资源。

> 关键问题

1. 及时接收
2. 及时处理

> 主要特征

1. 多路性：多个终端同时连接到一台主机
2. 独立性：各用户独立操作，互不干扰
3. 及时性：请求能在很短时间内得到响应
4. 交互性

### 1.2.5 实时系统

系统能及时响应外部事件的请求，在规定的时间内完成对该事件的处理，并控制所有实时任务协调一致的运行

> 实时系统与分时系统的区别

1. 多路性
2. 独立性
3. 及时性
4. 交互性
5. 可靠性

## 1.3 操作系统的基本特征

**四大特征：**

并发、共享、虚拟、异步

### 1.3.1 并发性

并行性：两个或多个时间在同一时刻发生

并发性：两个或多个时间在同一时间间隔发生

进程：系统中能独立运行并作为资源分配的基本单位

并发指的是进程间的并发

开发系统：os是一个并发系统，各进程间并发

线程：独立运行和独立调度的基本单位。本身不拥有系统资源。一个进程包含多个线程，统一进程中的多个线程共享资源。（一个核只能运行一个线程）

### 1.3.2 共享性

> 互斥共享方式

一段时间内，只允许一个进程访问资源

**临界资源：（互斥共享方式）**

一段时间内只允许一个进程访问的资源。如：打印机。

> 同时访问方式

一段时间内由多个进程“同时”对资源进行访问

**并发和共享是OS的两个最基本的特征**

### 1.3.3 虚拟性

在OS中，把通过某种技术将一个物理实体变为若干个逻辑上的对应物的功能称为虚拟。

> 时分复用技术（CPU）

> 空分复用技术（虚拟内存）

### 1.3.4 异步性

也称不确定性，指进程的执行顺序和执行时间的不确定性。

## 1.4 操作系统的功能

### 1.4.1 处理机管理功能

以**进程**为基本单位进行处理机的分配和运行

1. 进程控制
   - 为作业创建进程、撤销已结束的进程、以及控制进程在运行过程中的状态转换
2. 进程同步
   - 目的：协调并发进程的推进步骤，以协调资源共享
   - 主要任务：对多个进程（含线程）的运行进行协调
   - 互斥方式
   - 同步方式
3. 进程通信
   - 目的：使多个相互协调的进程，可以交换信息。
4. 调度
   - 控制作业和进程的运行切换，以充分利用处理机资源和提高系统性能
   - 作业调度
   - 进程调度

### 1.4.2 存储器管理功能

主要任务：提高存储器利用率，逻辑上扩大内存

1. 内存分配
   - 主要任务：为多到程序分配内存，提高存储器的利用率
   - 静态分配
   - 动态分配
2. 内存保护
   - 主要任务：确保每个进程都只在自己的内存空间中运行，互不干扰
3. 地址映射
   - 逻辑地址->物理地址
4. 内存扩充
   - 借助虚拟内存技术，从逻辑上扩充内存容量

### 1.4.3 设备管理功能

管理计算机系统中所有的**外围设备**

内存不是外设，硬盘是外设

1. 缓冲管理
2. 设备分配
3. 设备处理

### 1.4.4 文件管理功能

1. 文件存储空间的管理
2. 目录管理
3. 文件的读/写管理和保护

## 1.5 操作系统的结构设计

### 1.5.1 传统操作系统结构

1. 模块化结构OS
2. 分层式结构OS

### 1.5.2 客户/服务器模式简介

### 1.5.3 面向对象的程序设计技术简介

### 1.5.4 微内核OS结构

并非是一个完整的OS，只是为构建通用OS提供一个重要基础
